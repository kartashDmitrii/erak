(function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId]){return installedModules[moduleId].exports}var module=installedModules[moduleId]={i:moduleId,l:false,exports:{}};modules[moduleId].call(module.exports,module,module.exports,__webpack_require__);module.l=true;return module.exports}__webpack_require__.m=modules;__webpack_require__.c=installedModules;__webpack_require__.d=function(exports,name,getter){if(!__webpack_require__.o(exports,name)){Object.defineProperty(exports,name,{enumerable:true,get:getter})}};__webpack_require__.r=function(exports){if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(exports,"__esModule",{value:true})};__webpack_require__.t=function(value,mode){if(mode&1)value=__webpack_require__(value);if(mode&8)return value;if(mode&4&&typeof value==="object"&&value&&value.__esModule)return value;var ns=Object.create(null);__webpack_require__.r(ns);Object.defineProperty(ns,"default",{enumerable:true,value:value});if(mode&2&&typeof value!="string")for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns};__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module["default"]}:function getModuleExports(){return module};__webpack_require__.d(getter,"a",getter);return getter};__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)};__webpack_require__.p="";return __webpack_require__(__webpack_require__.s=0)})([function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);class popupFunc{constructor(button,popup){this.button=button;this.popup=popup;this.openPopupFunc=this.openPopup.bind(this);this.closePopupFunc=this.closePopup.bind(this);if(Array.isArray(this.button)){this.button.forEach(elem=>{elem.addEventListener("click",this.openPopupFunc)})}else{this.button.addEventListener("click",this.openPopupFunc)}this.popup.querySelectorAll(".close").forEach(elem=>elem.addEventListener("click",this.closePopupFunc));if(this.popup.parentNode.classList.contains("wrapper")){this.popup.parentNode.addEventListener("click",this.closePopupFunc)}}openPopup(event){event.preventDefault();this.popup.classList.add("active");if(this.popup.parentNode.classList.contains("wrapper")){this.popup.parentNode.classList.add("active")}if(window.screen.width<768){document.body.classList.add("hidden")}}closePopup(event){if(!event.target.classList.contains("close")&&event.target.closest(`.${this.button.dataset.popup}`)!==null){event.stopPropagation()}else{this.popup.classList.remove("active");if(this.popup.parentNode.classList.contains("wrapper")){this.popup.parentNode.classList.remove("active")}if(window.screen.width<768){document.body.classList.remove("hidden")}}}}if(document.querySelector("section.rent .slider")){let slider=document.querySelector("section.rent .slider");let siema=new Siema({selector:slider.querySelector(".wrapper"),duration:400,easing:"ease-out",perPage:{0:1,480:2,768:3,1200:4},startIndex:0,draggable:true,multipleDrag:true,threshold:20,loop:false,rtl:false,onInit:function(){let dotCount=Math.ceil(this.selector.querySelectorAll(".slide").length/this.perPage);for(let i=0;i<dotCount;i++){let dot=document.createElement("button");dot.classList.add("dot");slider.querySelector(".dots").appendChild(dot);dot.addEventListener("click",()=>{siema.goTo(i*siema.perPage)})}slider.querySelector(".dots").querySelectorAll(".dot")[Math.ceil(this.currentSlide/this.perPage)].classList.add("active");slider.querySelector(".btns .prev").addEventListener("click",()=>{siema.prev(this.perPage)});slider.querySelector(".btns .next").addEventListener("click",()=>{siema.next(this.perPage)})},onChange:function(){if(slider.querySelector(".dots").querySelector(".dot.active")){slider.querySelector(".dots").querySelector(".dot.active").classList.remove("active")}slider.querySelector(".dots").querySelectorAll(".dot")[Math.ceil(siema.currentSlide/siema.perPage)].classList.add("active")}})}document.querySelectorAll("[data-popup]").forEach(elem=>{new popupFunc(elem,document.querySelector(`.${elem.dataset.popup}`))});document.querySelectorAll("header nav>ul li.has-child").forEach(elem=>{elem.addEventListener("click",function(event){event.stopPropagation();if(event.target.classList.contains("has-child")||event.target.parentNode.classList.contains("has-child")){elem.classList.toggle("active")}})});if(document.querySelector(".custom-select")){document.querySelectorAll(".custom-select").forEach(customSelectField=>{let originalSelectOptions=customSelectField.querySelectorAll("select option"),customSelect=document.createElement("div");customSelectField.querySelector("select").style.display="none";customSelect.classList.add("select");customSelectField.querySelector("select").addEventListener("change",function(event){console.log(event.target.value)});let hideOptions=function(event){if(!event.target.closest(".custom-select")){customSelect.classList.remove("active");customOptions.classList.remove("active");document.removeEventListener("click",hideOptions)}};let customSelected=document.createElement("p");customSelected.classList.add("selected");customSelect.appendChild(customSelected);customSelected.addEventListener("click",()=>{if(customOptions.classList.contains("active")){customSelect.classList.remove("active");document.removeEventListener("click",hideOptions);customOptions.classList.remove("active")}else{customSelect.classList.add("active");customOptions.classList.add("active");setTimeout(()=>{document.addEventListener("click",hideOptions)})}});let customOptions=document.createElement("div");customOptions.classList.add("options");customSelect.appendChild(customOptions);originalSelectOptions.forEach((elem,index)=>{let customOption=document.createElement("p");customOption.classList.add("option");customOption.innerText=elem.innerText;customOptions.appendChild(customOption);if(elem.selected){customSelected.innerText=elem.innerText}customOption.addEventListener("click",event=>{customSelectField.querySelector("select").value=elem.value;customSelectField.querySelector("select").dispatchEvent(new Event("change"));elem.selected=true;customSelected.innerText=customOption.innerText;customSelect.classList.remove("active");customOptions.classList.remove("active")})});customSelectField.prepend(customSelect)})}}]);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsibW9kdWxlcyIsImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJnZXREZWZhdWx0IiwiZ2V0TW9kdWxlRXhwb3J0cyIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIl9fd2VicGFja19leHBvcnRzX18iLCJwb3B1cEZ1bmMiLCJbb2JqZWN0IE9iamVjdF0iLCJidXR0b24iLCJwb3B1cCIsInRoaXMiLCJvcGVuUG9wdXBGdW5jIiwib3BlblBvcHVwIiwiY2xvc2VQb3B1cEZ1bmMiLCJjbG9zZVBvcHVwIiwiQXJyYXkiLCJpc0FycmF5IiwiZm9yRWFjaCIsImVsZW0iLCJhZGRFdmVudExpc3RlbmVyIiwicXVlcnlTZWxlY3RvckFsbCIsInBhcmVudE5vZGUiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJhZGQiLCJ3aW5kb3ciLCJzY3JlZW4iLCJ3aWR0aCIsImRvY3VtZW50IiwiYm9keSIsInRhcmdldCIsImNsb3Nlc3QiLCJkYXRhc2V0Iiwic3RvcFByb3BhZ2F0aW9uIiwicmVtb3ZlIiwicXVlcnlTZWxlY3RvciIsInNsaWRlciIsInNpZW1hIiwiU2llbWEiLCJzZWxlY3RvciIsImR1cmF0aW9uIiwiZWFzaW5nIiwicGVyUGFnZSIsIjAiLCI0ODAiLCI3NjgiLCIxMjAwIiwic3RhcnRJbmRleCIsImRyYWdnYWJsZSIsIm11bHRpcGxlRHJhZyIsInRocmVzaG9sZCIsImxvb3AiLCJydGwiLCJvbkluaXQiLCJkb3RDb3VudCIsIk1hdGgiLCJjZWlsIiwibGVuZ3RoIiwiZG90IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZ29UbyIsImN1cnJlbnRTbGlkZSIsInByZXYiLCJuZXh0Iiwib25DaGFuZ2UiLCJ0b2dnbGUiLCJjdXN0b21TZWxlY3RGaWVsZCIsIm9yaWdpbmFsU2VsZWN0T3B0aW9ucyIsImN1c3RvbVNlbGVjdCIsInN0eWxlIiwiZGlzcGxheSIsImNvbnNvbGUiLCJsb2ciLCJoaWRlT3B0aW9ucyIsImN1c3RvbU9wdGlvbnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY3VzdG9tU2VsZWN0ZWQiLCJzZXRUaW1lb3V0IiwiaW5kZXgiLCJjdXN0b21PcHRpb24iLCJpbm5lclRleHQiLCJzZWxlY3RlZCIsImRpc3BhdGNoRXZlbnQiLCJFdmVudCIsInByZXBlbmQiXSwibWFwcGluZ3MiOiJDQUFTLFNBQVVBLFNBRVQsSUFBSUMsaUJBQW1CLEdBR3ZCLFNBQVNDLG9CQUFvQkMsVUFHNUIsR0FBR0YsaUJBQWlCRSxVQUFXLENBQzlCLE9BQU9GLGlCQUFpQkUsVUFBVUMsUUFHbkMsSUFBSUMsT0FBU0osaUJBQWlCRSxVQUFZLENBQ3pDRyxFQUFHSCxTQUNISSxFQUFHLE1BQ0hILFFBQVMsSUFJVkosUUFBUUcsVUFBVUssS0FBS0gsT0FBT0QsUUFBU0MsT0FBUUEsT0FBT0QsUUFBU0YscUJBRy9ERyxPQUFPRSxFQUFJLEtBR1gsT0FBT0YsT0FBT0QsUUFLZkYsb0JBQW9CTyxFQUFJVCxRQUd4QkUsb0JBQW9CUSxFQUFJVCxpQkFHeEJDLG9CQUFvQlMsRUFBSSxTQUFTUCxRQUFTUSxLQUFNQyxRQUMvQyxJQUFJWCxvQkFBb0JZLEVBQUVWLFFBQVNRLE1BQU8sQ0FDekNHLE9BQU9DLGVBQWVaLFFBQVNRLEtBQU0sQ0FBRUssV0FBWSxLQUFNQyxJQUFLTCxXQUtoRVgsb0JBQW9CaUIsRUFBSSxTQUFTZixTQUNo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YUFBYWpELFVBQVVjLE9BQU8sVUFDOUJOLFNBQVNnRCxvQkFBb0IsUUFBU0YsYUFDdENDLGNBQWN2RCxVQUFVYyxPQUFPLGNBQzVCLENBQ0htQyxhQUFhakQsVUFBVUksSUFBSSxVQUMzQm1ELGNBQWN2RCxVQUFVSSxJQUFJLFVBQzVCc0QsV0FBVyxLQUNQbEQsU0FBU1gsaUJBQWlCLFFBQVN5RCxrQkFNL0MsSUFBSUMsY0FBZ0IvQyxTQUFTK0IsY0FBYyxPQUMzQ2dCLGNBQWN2RCxVQUFVSSxJQUFJLFdBQzVCNkMsYUFBYVQsWUFBWWUsZUFFekJQLHNCQUFzQnJELFFBQVMsQ0FBQ0MsS0FBSytELFNBQ2pDLElBQUlDLGFBQWVwRCxTQUFTK0IsY0FBYyxLQUMxQ3FCLGFBQWE1RCxVQUFVSSxJQUFJLFVBQzNCd0QsYUFBYUMsVUFBWWpFLEtBQUtpRSxVQUM5Qk4sY0FBY2YsWUFBWW9CLGNBQzFCLEdBQUloRSxLQUFLa0UsU0FBUyxDQUNkTCxlQUFlSSxVQUFZakUsS0FBS2lFLFVBRXBDRCxhQUFhL0QsaUJBQWlCLFFBQVVLLFFBQ3BDNkMsa0JBQWtCaEMsY0FBYyxVQUFVakQsTUFBUThCLEtBQUs5QixNQUN2RGlGLGtCQUFrQmhDLGNBQWMsVUFBVWdELGNBQWMsSUFBSUMsTUFBTSxXQUNsRXBFLEtBQUtrRSxTQUFXLEtBQ2hCTCxlQUFlSSxVQUFZRCxhQUFhQyxVQUN4Q1osYUFBYWpELFVBQVVjLE9BQU8sVUFDOUJ5QyxjQUFjdkQsVUFBVWMsT0FBTyxjQUl2Q2lDLGtCQUFrQmtCLFFBQVFoQiIsInNvdXJjZXNDb250ZW50IjpbIi8qKioqKiovIChmdW5jdGlvbihtb2R1bGVzKSB7IC8vIHdlYnBhY2tCb290c3RyYXBcbi8qKioqKiovIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbi8qKioqKiovIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbi8qKioqKiovIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuLyoqKioqKi8gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4vKioqKioqLyBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuLyoqKioqKi8gXHRcdFx0aTogbW9kdWxlSWQsXG4vKioqKioqLyBcdFx0XHRsOiBmYWxzZSxcbi8qKioqKiovIFx0XHRcdGV4cG9ydHM6IHt9XG4vKioqKioqLyBcdFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4vKioqKioqLyBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbi8qKioqKiovIFx0XHRtb2R1bGUubCA9IHRydWU7XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4vKioqKioqLyBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuLyoqKioqKi8gXHR9XG4vKioqKioqL1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4vKioqKioqLyBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuLyoqKioqKi8gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4vKioqKioqLyBcdFx0fVxuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4vKioqKioqLyBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4vKioqKioqLyBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbi8qKioqKiovIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4vKioqKioqLyBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuLyoqKioqKi8gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbi8qKioqKiovIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuLyoqKioqKi8gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbi8qKioqKiovIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4vKioqKioqLyBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuLyoqKioqKi8gXHRcdHJldHVybiBucztcbi8qKioqKiovIFx0fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuLyoqKioqKi8gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuLyoqKioqKi8gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4vKioqKioqLyBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuLyoqKioqKi8gXHRcdHJldHVybiBnZXR0ZXI7XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBfX3dlYnBhY2tfZXhwb3J0c19fLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuLy8gRVNNIENPTVBBVCBGTEFHXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIoX193ZWJwYWNrX2V4cG9ydHNfXyk7XG5cbi8vIENPTkNBVEVOQVRFRCBNT0RVTEU6IC4vc3JjL2pzL2NvbXBvbmVudHMvcG9wdXBGdW5jLmpzXG5jbGFzcyBwb3B1cEZ1bmMge1xyXG4gICAgY29uc3RydWN0b3IoYnV0dG9uLHBvcHVwKSB7XHJcbiAgICAgICAgdGhpcy5idXR0b24gPSBidXR0b247XHJcbiAgICAgICAgdGhpcy5wb3B1cCA9IHBvcHVwO1xyXG4gICAgICAgIHRoaXMub3BlblBvcHVwRnVuYyA9IHRoaXMub3BlblBvcHVwLmJpbmQodGhpcyk7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwRnVuYyA9IHRoaXMuY2xvc2VQb3B1cC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIGlmICggQXJyYXkuaXNBcnJheSh0aGlzLmJ1dHRvbikpe1xyXG4gICAgICAgICAgICB0aGlzLmJ1dHRvbi5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgICAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLm9wZW5Qb3B1cEZ1bmMpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5vcGVuUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wb3B1cC5xdWVyeVNlbGVjdG9yQWxsKCcuY2xvc2UnKS5mb3JFYWNoKCBlbGVtID0+IGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXBGdW5jKSk7XHJcbiAgICAgICAgaWYgKHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ3dyYXBwZXInKSkge1xyXG4gICAgICAgICAgICB0aGlzLnBvcHVwLnBhcmVudE5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsb3NlUG9wdXBGdW5jKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBvcGVuUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICBpZiAodGhpcy5wb3B1cC5wYXJlbnROb2RlLmNsYXNzTGlzdC5jb250YWlucygnd3JhcHBlcicpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4ud2lkdGggPCA3NjgpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNsb3NlUG9wdXAoZXZlbnQpe1xyXG4gICAgICAgIGlmICghZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2xvc2UnKSAmJiBldmVudC50YXJnZXQuY2xvc2VzdChgLiR7dGhpcy5idXR0b24uZGF0YXNldC5wb3B1cH1gKSAhPT0gbnVsbCl7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBvcHVwLnBhcmVudE5vZGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd3cmFwcGVyJykpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9wdXAucGFyZW50Tm9kZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAod2luZG93LnNjcmVlbi53aWR0aCA8IDc2OCkge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG4vLyBDT05DQVRFTkFURUQgTU9EVUxFOiAuL3NyYy9qcy9pbmRleC5qc1xuXHJcblxyXG5pZiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5yZW50IC5zbGlkZXInKSl7XHJcbiAgICBsZXQgc2xpZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5yZW50IC5zbGlkZXInKTtcclxuICAgIGxldCBzaWVtYSA9IG5ldyBTaWVtYSh7XHJcbiAgICAgICAgc2VsZWN0b3I6IHNsaWRlci5xdWVyeVNlbGVjdG9yKCcud3JhcHBlcicpLFxyXG4gICAgICAgIGR1cmF0aW9uOiA0MDAsXHJcbiAgICAgICAgZWFzaW5nOiAnZWFzZS1vdXQnLFxyXG4gICAgICAgIHBlclBhZ2U6IHtcclxuICAgICAgICAgICAgMDogMSxcclxuICAgICAgICAgICAgNDgwOiAyLFxyXG4gICAgICAgICAgICA3Njg6IDMsXHJcbiAgICAgICAgICAgIDEyMDA6IDRcclxuICAgICAgICB9LFxyXG4gICAgICAgIHN0YXJ0SW5kZXg6IDAsXHJcbiAgICAgICAgZHJhZ2dhYmxlOiB0cnVlLFxyXG4gICAgICAgIG11bHRpcGxlRHJhZzogdHJ1ZSxcclxuICAgICAgICB0aHJlc2hvbGQ6IDIwLFxyXG4gICAgICAgIGxvb3A6IGZhbHNlLFxyXG4gICAgICAgIHJ0bDogZmFsc2UsXHJcbiAgICAgICAgb25Jbml0OiBmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICBsZXQgZG90Q291bnQgPSBNYXRoLmNlaWwodGhpcy5zZWxlY3Rvci5xdWVyeVNlbGVjdG9yQWxsKCcuc2xpZGUnKS5sZW5ndGggLyB0aGlzLnBlclBhZ2UpO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRvdENvdW50OyBpKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IGRvdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgICAgICAgICAgICAgZG90LmNsYXNzTGlzdC5hZGQoJ2RvdCcpO1xyXG4gICAgICAgICAgICAgICAgc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5kb3RzJykuYXBwZW5kQ2hpbGQoZG90KTtcclxuICAgICAgICAgICAgICAgIGRvdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57c2llbWEuZ29UbyhpICogc2llbWEucGVyUGFnZSl9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzbGlkZXIucXVlcnlTZWxlY3RvcignLmRvdHMnKS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90JylbTWF0aC5jZWlsKHRoaXMuY3VycmVudFNsaWRlIC8gdGhpcy5wZXJQYWdlKV0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgIHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuYnRucyAucHJldicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCk9PntzaWVtYS5wcmV2KHRoaXMucGVyUGFnZSl9KTtcclxuICAgICAgICAgICAgc2xpZGVyLnF1ZXJ5U2VsZWN0b3IoJy5idG5zIC5uZXh0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKT0+e3NpZW1hLm5leHQodGhpcy5wZXJQYWdlKX0pO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25DaGFuZ2U6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmIChzbGlkZXIucXVlcnlTZWxlY3RvcignLmRvdHMnKS5xdWVyeVNlbGVjdG9yKCcuZG90LmFjdGl2ZScpKXtcclxuICAgICAgICAgICAgICAgIHNsaWRlci5xdWVyeVNlbGVjdG9yKCcuZG90cycpLnF1ZXJ5U2VsZWN0b3IoJy5kb3QuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzbGlkZXIucXVlcnlTZWxlY3RvcignLmRvdHMnKS5xdWVyeVNlbGVjdG9yQWxsKCcuZG90JylbTWF0aC5jZWlsKHNpZW1hLmN1cnJlbnRTbGlkZSAvIHNpZW1hLnBlclBhZ2UpXS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKVxyXG4gICAgICAgIH0sXHJcbiAgICB9KTtcclxufVxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtcG9wdXBdJykuZm9yRWFjaCggZWxlbSA9PiB7XHJcbiAgICBuZXcgcG9wdXBGdW5jKGVsZW0sIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2VsZW0uZGF0YXNldC5wb3B1cH1gKSk7XHJcbn0pO1xyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnaGVhZGVyIG5hdj51bCBsaS5oYXMtY2hpbGQnKS5mb3JFYWNoKCBlbGVtID0+IHtcclxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdoYXMtY2hpbGQnKSB8fCBldmVudC50YXJnZXQucGFyZW50Tm9kZS5jbGFzc0xpc3QuY29udGFpbnMoJ2hhcy1jaGlsZCcpKSB7XHJcbiAgICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuLyogIHRvdmFyIGN1c3RvbSBzZWxlY3QgICAgKi9cclxuXHJcbmlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY3VzdG9tLXNlbGVjdCcpKXtcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jdXN0b20tc2VsZWN0JykuZm9yRWFjaCggY3VzdG9tU2VsZWN0RmllbGQ9PnsgICAgICAgLy8g0JLRi9Cx0LjRgNCw0LXQvCDQstGB0LUg0YHQtdC70LXQutGC0Ysg0L3QsCDRgdGC0YDQsNC90LjRhtC1XHJcbiAgICAgICAgbGV0IG9yaWdpbmFsU2VsZWN0T3B0aW9ucyA9IGN1c3RvbVNlbGVjdEZpZWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NlbGVjdCBvcHRpb24nKSwgICAgLy8g0J7Qv9GI0LXQvdGLINCy0L3Rg9GC0YDQuCDRgtC10LrRg9GJ0LXQs9C+INGB0LXQu9C10LrRgtCwXHJcbiAgICAgICAgICAgIGN1c3RvbVNlbGVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICDQodC+0LfQtNCw0ZHQvCDQvdC+0LLRi9C5INGB0LXQu9C10LrRglxyXG4gICAgICAgIGN1c3RvbVNlbGVjdEZpZWxkLnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7ICAgICAgICAgICAgICAgICAgICAvLyAg0KHQutGA0YvQstCw0LXQvCDRgdGC0LDRgNGL0LlcclxuICAgICAgICBjdXN0b21TZWxlY3QuY2xhc3NMaXN0LmFkZCgnc2VsZWN0Jyk7XHJcbiAgICAgICAgY3VzdG9tU2VsZWN0RmllbGQucXVlcnlTZWxlY3Rvcignc2VsZWN0JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LnZhbHVlKVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBoaWRlT3B0aW9ucyA9IGZ1bmN0aW9uIChldmVudCl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8g0KTRg9C90LrRhtC40Y8g0LTQu9GPINGB0LrRgNGL0YLQuNGPINGB0LXQu9C10LrRgtCwINC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvNC40LzQviDRhtC10LvQuFxyXG4gICAgICAgICAgICBpZiAoIWV2ZW50LnRhcmdldC5jbG9zZXN0KCcuY3VzdG9tLXNlbGVjdCcpKSB7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21PcHRpb25zLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlT3B0aW9ucylcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGN1c3RvbVNlbGVjdGVkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gINCh0L7Qt9C00LDRkdC8INCgINC60L7RgtC+0YDRi9C5INCx0YPQtNC10YIg0L/QvtC60LDQt9GL0LLQsNGC0Ywg0YLQtdC60YPRidC40Lkg0LLRi9Cx0YDQsNC90L3Ri9C5INGN0LvQtdC80LXQvdGCXHJcbiAgICAgICAgY3VzdG9tU2VsZWN0ZWQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcclxuICAgICAgICBjdXN0b21TZWxlY3QuYXBwZW5kQ2hpbGQoY3VzdG9tU2VsZWN0ZWQpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQlNC+0LHQsNCy0LvRj9C10Lwg0LXQs9C+INCyINC60LDRgdGC0L7QvNC90YvQuSDRgdC10LvQtdC60YJcclxuICAgICAgICBjdXN0b21TZWxlY3RlZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpPT57ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCk0YPQvdC60YbQuNGPINC00LvRjyDRgNCw0YHRgdC60YDRi9GC0LjRjyDRgdC10LvQtdC60YLQsCwg0L/QtdGA0LXQstC+0YDQvtGC0LAg0YHRgtGA0LXQu9C60Lgg0Lgg0L3QsNC20LDRgtC40LhcclxuICAgICAgICAgICAgaWYgKGN1c3RvbU9wdGlvbnMuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSl7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINC80LjQvNC+INGB0LXQu9C10LrRgtCwXHJcbiAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3QuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZGVPcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIGN1c3RvbU9wdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGN1c3RvbU9wdGlvbnMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpPT57XHJcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWRlT3B0aW9ucylcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGxldCBjdXN0b21PcHRpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vINCh0L7Qt9C00LDRkdC8INGB0L/QuNGB0L7QuiDQntC/0YjQtdC90L7QsiDQuCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQtdCz0L4g0LIg0LrQsNGB0YLQvtC80L3Ri9C5INGB0L/QuNGB0L7QulxyXG4gICAgICAgIGN1c3RvbU9wdGlvbnMuY2xhc3NMaXN0LmFkZCgnb3B0aW9ucycpO1xyXG4gICAgICAgIGN1c3RvbVNlbGVjdC5hcHBlbmRDaGlsZChjdXN0b21PcHRpb25zKTtcclxuXHJcbiAgICAgICAgb3JpZ2luYWxTZWxlY3RPcHRpb25zLmZvckVhY2goIChlbGVtLGluZGV4KSA9PiB7ICAgICAgICAgICAgICAgICAgICAvLyDQodC+0LfQtNCw0L3QuNC1INC60LDRgdGC0L7QvNC90L7Qs9C+INC+0L/RiNC10L3QsCDQvdCwINC+0YHQvdC+0LLQtSDQvtGA0LjQs9C40L3QsNC70YzQvdC+0LPQvlxyXG4gICAgICAgICAgICBsZXQgY3VzdG9tT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG4gICAgICAgICAgICBjdXN0b21PcHRpb24uY2xhc3NMaXN0LmFkZCgnb3B0aW9uJyk7XHJcbiAgICAgICAgICAgIGN1c3RvbU9wdGlvbi5pbm5lclRleHQgPSBlbGVtLmlubmVyVGV4dDtcclxuICAgICAgICAgICAgY3VzdG9tT3B0aW9ucy5hcHBlbmRDaGlsZChjdXN0b21PcHRpb24pO1xyXG4gICAgICAgICAgICBpZiAoZWxlbS5zZWxlY3RlZCl7XHJcbiAgICAgICAgICAgICAgICBjdXN0b21TZWxlY3RlZC5pbm5lclRleHQgPSBlbGVtLmlubmVyVGV4dCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyDQktGL0LHRgNCw0L3QvdGL0Lkg0L/QvtC60LDQt9GL0LLQsNC10Lwg0LIg0YLQtdCz0LUg0KBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdXN0b21PcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHsgICAgICAgICAgICAgIC8vINCh0L7QsdC40YLQuNC1INC00LvRjyDQv9C10YDQtdC00LDRh9C4INCy0YvQsdGA0LDQvdC90L7Qs9C+INC+0L/RiNC10L3QsCDQsiDQvtGB0L3QvtCy0L3QvtC5INGB0LXQu9C10LrRglxyXG4gICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0RmllbGQucXVlcnlTZWxlY3Rvcignc2VsZWN0JykudmFsdWUgPSBlbGVtLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0RmllbGQucXVlcnlTZWxlY3Rvcignc2VsZWN0JykuZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoJ2NoYW5nZScpKTtcclxuICAgICAgICAgICAgICAgIGVsZW0uc2VsZWN0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY3VzdG9tU2VsZWN0ZWQuaW5uZXJUZXh0ID0gY3VzdG9tT3B0aW9uLmlubmVyVGV4dDtcclxuICAgICAgICAgICAgICAgIGN1c3RvbVNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuICAgICAgICAgICAgICAgIGN1c3RvbU9wdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9ICk7XHJcblxyXG4gICAgICAgIGN1c3RvbVNlbGVjdEZpZWxkLnByZXBlbmQoY3VzdG9tU2VsZWN0KVxyXG4gICAgfSApXHJcbn1cclxuXHJcbi8qICB0b3ZhciBjdXN0b20gc2VsZWN0ICAgICovXHJcblxuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7Il0sImZpbGUiOiJtYWluLW1pbi5qcyJ9
